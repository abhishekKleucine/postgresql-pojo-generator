# PostgreSQL POJO Generator

A powerful Java utility that automatically generates Plain Old Java Objects (POJOs) from PostgreSQL database tables with comprehensive constraint and relationship handling.

## ğŸš€ Features

- **Complete Database Introspection**: Automatically discovers tables, columns, and relationships
- **Constraint Handling**: Supports primary keys, foreign keys, unique constraints, NOT NULL, and indexing
- **Relationship Mapping**: Full foreign key relationship documentation
- **Index Information**: Captures and documents all database indexes including unique indexes
- **Modern Java Types**: Uses `LocalDateTime`, `LocalDate`, `BigDecimal`, etc.
- **Clean Code Generation**: Generates well-documented POJOs with proper getters/setters
- **Comprehensive Documentation**: Each generated class includes complete table metadata

## ğŸ“ Project Structure

```
postgresConnect/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ module-info.java              # Java module definition
â”‚   â””â”€â”€ postgresConnect/
â”‚       â”œâ”€â”€ PostgresConnect.java      # Database connection test
â”‚       â”œâ”€â”€ PojoGenerator.java        # Main POJO generator
â”‚       â””â”€â”€ generated/                # Generated POJO classes
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ postgresql-42.7.7.jar        # PostgreSQL JDBC driver
â””â”€â”€ README.md
```

## ğŸ› ï¸ Setup

### Prerequisites
- Java 17 or higher
- PostgreSQL database
- JDBC access to your PostgreSQL database

### Database Configuration
Update the database connection details in `PojoGenerator.java`:

```java
static final String DB_URL = "jdbc:postgresql://localhost:5432/your_database";
static final String DB_USER = "your_username";
static final String DB_PASS = "your_password";
```

## ğŸƒâ€â™‚ï¸ Usage

### Running the Generator

1. **Compile the project:**
   ```bash
   javac -cp "lib/postgresql-42.7.7.jar" src/postgresConnect/PojoGenerator.java
   ```

2. **Run the generator:**
   ```bash
   java -cp "lib/postgresql-42.7.7.jar:src" postgresConnect.PojoGenerator
   ```

3. **Generated POJOs** will be created in `src/postgresConnect/generated/`

### Example Generated POJO

```java
/**
 * POJO class for table: users
 * Generated by PojoGenerator
 * 
 * Table Information:
 * - Table Name: users
 * - Primary Keys: user_id
 * 
 * Indexes:
 * - idx_users_email (UNIQUE): email
 * - idx_users_created_at: created_at
 * 
 * Foreign Keys:
 * - department_id â†’ departments.dept_id
 */
public class Users implements Serializable {
    
    /**
     * Database column: user_id
     * Type: serial AUTO_INCREMENT
     * Primary Key
     */
    private Integer userId;
    
    /**
     * Database column: email
     * Type: varchar(255) NOT NULL
     */
    private String email;
    
    /**
     * Database column: department_id
     * Type: int4
     * Foreign Key â†’ departments.dept_id
     */
    private Integer departmentId;
    
    // Constructors, getters, setters, equals, hashCode, toString...
}
```

## ğŸ“Š Supported Database Features

### âœ… Fully Supported
- **Primary Keys** - Detected and documented
- **Foreign Keys** - Full relationship mapping with target references
- **Indexes** - All indexes including unique indexes
- **Data Types** - Comprehensive PostgreSQL to Java type mapping
- **NOT NULL Constraints** - Documented in field comments
- **Auto-increment Fields** - Properly handled in constructors
- **Column Sizes** - Captured for string fields

### ğŸ”„ Data Type Mapping

| PostgreSQL Type | Java Type |
|----------------|-----------|
| varchar, text, char | String |
| int4, serial, integer | Integer |
| int8, bigint, bigserial | Long |
| float8, double | Double |
| float4, real | Float |
| numeric, decimal | BigDecimal |
| bool, boolean | Boolean |
| date | LocalDate |
| timestamp, timestamptz | LocalDateTime |
| time | LocalTime |
| uuid | UUID |
| json, jsonb | String |

## ğŸ—ï¸ Generated POJO Features

Each generated POJO includes:

- **Comprehensive Documentation** - Table and constraint information
- **Field Documentation** - Column details, constraints, and relationships
- **Default Constructor** - No-argument constructor
- **Parameterized Constructor** - Constructor with all non-auto-increment fields
- **Getters and Setters** - Properly documented accessor methods
- **equals() and hashCode()** - Based on primary keys (or all fields if no PK)
- **toString()** - Readable string representation
- **Serializable** - Implements Serializable interface

## ğŸ—ƒï¸ Example Database Schema

This generator has been tested with complex production databases including:
- User management systems
- Workflow and task management
- Audit and compliance tracking
- Media and file management
- Quartz scheduler integration
- Multi-tenant facility management

## ğŸ¤ Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test with your PostgreSQL database
5. Submit a pull request

## ğŸ“ License

This project is open source. Feel free to use and modify as needed.

## ğŸ› Issues and Support

If you encounter any issues or have suggestions for improvements, please create an issue in the repository.

## ğŸ”§ Advanced Usage

### Custom Output Directory
Modify the `OUTPUT_FOLDER` constant in `PojoGenerator.java`:
```java
static final String OUTPUT_FOLDER = "your/custom/path/";
```

### Filtering Tables
The generator processes all tables in the `public` schema. To filter specific tables, modify the table query in the main method.

### Extending the Generator
The generator is designed to be extensible. You can:
- Add custom data type mappings
- Implement additional constraint types
- Customize the generated code format
- Add validation methods

---

**Happy Coding!** ğŸ‰
